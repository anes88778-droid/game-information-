body { margin: 0; overflow: hidden; background: #2c3e50; font-family: 'Arial', sans-serif; color: white; }
#game-container { position: relative; width: 100vw; height: 100vh; background: linear-gradient(#1a2a6c, #b21f1f, #fdbb2d); }

.overlay { position: absolute; inset: 0; background: rgba(0,0,0,0.85); display: flex; flex-direction: column; align-items: center; justify-content: center; z-index: 10; }
.hidden { display: none !important; }

/* Tree Animation */
.animated-tree {
    position: absolute; bottom: 50px; left: 50px;
    width: 150px; height: 250px;
    background: url('tree_placeholder.png') no-repeat center/contain;
    animation: sway 3s ease-in-out infinite;
}

@keyframes sway {
    0%, 100% { transform: rotate(-2deg); }
    50% { transform: rotate(2deg); }
}

/* Player & Enemies */
#player { position: absolute; bottom: 50px; left: 250px; width: 60px; height: 100px; background: blue; transition: bottom 0.2s; }
#enemy { position: absolute; bottom: 50px; right: -100px; width: 70px; height: 90px; background: darkgrey; }

/* Skills */
#special-skill { 
    padding: 10px; border: 2px solid white; border-radius: 5px; 
    background: rgba(0, 150, 255, 0.2); transition: 0.5s;
}
.skill-ready { background: #0096ff !important; box-shadow: 0 0 15px #0096ff; }

/* Boss Disintegration Effect */
.disintegrate { animation: crumble 1s forwards; }
@keyframes crumble {
    to { opacity: 0; transform: scale(1.5) rotate(20deg); filter: blur(10px); }
}
/* تحسين شكل اللاعب */
#player {
    width: 50px; height: 80px;
    background: #e67e22; /* لون ملابس المغامر */
    border-radius: 10px 10px 0 0;
    box-shadow: inset 0 -10px 0 #d35400;
    transition: all 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

/* حالة الانبطاح */
.crouching { height: 40px !important; margin-top: 40px; }

/* تأثير الشجرة المتنفسة */
.animated-tree {
    background: radial-gradient(circle, #2ecc71 40%, #27ae60 100%);
    border-radius: 50% 50% 10% 10%;
    filter: drop-shadow(0 0 15px #2ecc71);
    animation: breathe 4s ease-in-out infinite;
}

@keyframes breathe {
    0%, 100% { transform: scale(1) translateY(0); }
    50% { transform: scale(1.05) translateY(-10px); filter: drop-shadow(0 0 25px #2ecc71); }
}

/* تأثير التفتت للوحش الأسطوري */
.disintegrate {
    animation: crumble 1.5s forwards;
    pointer-events: none;
}

@keyframes crumble {
    0% { transform: scale(1); opacity: 1; }
    50% { transform: scale(1.2) rotate(15deg); filter: contrast(2) brightness(2); }
    100% { transform: translateY(-100px) scale(0); opacity: 0; filter: blur(20px); }
}

/* تأثير الضربة في الخلفية */
.hit-flash {
    position: absolute; width: 100%; height: 100%;
    background: white; opacity: 0; pointer-events: none;
    z-index: 5;
}
